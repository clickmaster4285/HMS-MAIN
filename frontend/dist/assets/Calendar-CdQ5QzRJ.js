import{r as g,j as e}from"./index-D_CM1r6M.js";import{P as s}from"./index-DKThCUkT.js";import{C as Y}from"./chevron-down-OLcSbe5J.js";import{X as W}from"./x-C7u0T0_x.js";import{c as Z}from"./createLucideIcon-lGOnjJ_s.js";import{f as x,e as P}from"./format-C6WB0tTj.js";import{p as N}from"./parseISO-4cjP3mE1.js";import{a as T,s as I,e as ee,c as te,i as S,b as se}from"./isSameMonth-Dw-C10qa.js";const ae=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],re=Z("loader-circle",ae),w=g.forwardRef(({children:r,onClick:i,className:m="",variant:o="primary",size:l="md",isLoading:n=!1,disabled:c=!1,icon:d,iconPosition:p="left",...h},u)=>{const v={primary:"bg-primary-600 hover:bg-primary-700 text-white",secondary:"bg-white hover:bg-gray-100 text-gray-800 border border-gray-300",danger:"bg-red-600 hover:bg-red-700 text-white",ghost:"hover:bg-gray-100 text-gray-800",outline:"border border-primary-600 text-primary-600 hover:bg-primary-50"},a={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"};return e.jsxs("button",{ref:u,onClick:i,disabled:c||n,className:`
        inline-flex items-center justify-center rounded-lg font-medium
        transition-all duration-200 focus:outline-none focus:ring-2
        focus:ring-primary-500 focus:ring-offset-2 disabled:opacity-70
        disabled:cursor-not-allowed ${v[o]} ${a[l]} ${m}
      `,...h,children:[n?e.jsx(re,{className:"animate-spin mr-2",size:18}):d&&p==="left"?e.jsx(d,{className:"mr-2",size:18}):null,r,d&&p==="right"&&!n?e.jsx(d,{className:"ml-2",size:18}):null]})});w.propTypes={children:s.node.isRequired,onClick:s.func,className:s.string,variant:s.oneOf(["primary","secondary","danger","ghost","outline"]),size:s.oneOf(["sm","md","lg"]),isLoading:s.bool,disabled:s.bool,icon:s.elementType,iconPosition:s.oneOf(["left","right"])};const k=g.forwardRef(({label:r,value:i,onChange:m,error:o,className:l="",containerClassName:n="",floatingLabel:c=!1,...d},p)=>e.jsxs("div",{className:`relative mb-4 ${n}`,children:[!c&&r&&e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:r}),e.jsx("input",{ref:p,value:i,onChange:m,className:`
          peer w-full px-4 py-3 border rounded-lg focus:ring-2
          focus:ring-primary-500 focus:border-primary-500 transition-all
          ${o?"border-red-500":"border-gray-300"}
          ${c?"pt-5":""} ${l}
        `,...d}),c&&e.jsx("label",{className:`
          absolute left-4 top-3 text-gray-500 transition-all duration-200
          peer-focus:text-primary-600 peer-focus:scale-90 peer-focus:-translate-y-2
          peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0
          ${i?"scale-90 -translate-y-2":""}
        `,children:r}),o&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:o})]}));k.propTypes={label:s.string,value:s.any,onChange:s.func,error:s.string,className:s.string,containerClassName:s.string,floatingLabel:s.bool};const A=g.forwardRef(({label:r,value:i,onChange:m,error:o,className:l="",containerClassName:n="",minRows:c=3,maxRows:d=6,...p},h)=>{const u=v=>{m&&m(v);const a=v.target;a.style.height="auto";const y=d*24;a.style.height=`${Math.min(a.scrollHeight,y)}px`};return e.jsxs("div",{className:`mb-4 ${n}`,children:[r&&e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:r}),e.jsx("textarea",{ref:h,value:i,onChange:u,style:{minHeight:`${c*24}px`},className:`
          w-full px-4 py-3 border rounded-lg focus:ring-2
          focus:ring-primary-500 focus:border-primary-500 transition-all
          ${o?"border-red-500":"border-gray-300"} ${l}
        `,...p}),o&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:o})]})});A.propTypes={label:s.string,value:s.any,onChange:s.func,error:s.string,className:s.string,containerClassName:s.string,minRows:s.number,maxRows:s.number};const $=g.forwardRef(({label:r,value:i,onChange:m,options:o,error:l,className:n="",containerClassName:c="",...d},p)=>e.jsxs("div",{className:`mb-4 ${c}`,children:[r&&e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:r}),e.jsxs("div",{className:"relative",children:[e.jsx("select",{ref:p,value:i,onChange:m,className:`
            appearance-none w-full px-4 py-3 pr-10 border rounded-lg
            focus:ring-2 focus:ring-primary-500 focus:border-primary-500
            ${l?"border-red-500":"border-gray-300"} ${n}
          `,...d,children:o.map(h=>e.jsx("option",{value:h.value,children:h.label},h.value))}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:e.jsx(Y,{className:"h-5 w-5 text-gray-400"})})]}),l&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:l})]}));$.propTypes={label:s.string,value:s.any,onChange:s.func,options:s.arrayOf(s.shape({value:s.any.isRequired,label:s.string.isRequired})).isRequired,error:s.string,className:s.string,containerClassName:s.string};const R=({label:r,checked:i,onChange:m,className:o="",containerClassName:l="",asSwitch:n=!1,...c})=>e.jsx("div",{className:`flex items-center mb-4 ${l}`,children:e.jsxs("label",{className:"flex items-center cursor-pointer",children:[n?e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"checkbox",checked:i,onChange:m,className:"sr-only",...c}),e.jsx("div",{className:`
              w-12 h-6 rounded-full shadow-inner transition-colors
              ${i?"bg-primary-600":"bg-gray-300"}
            `}),e.jsx("div",{className:`
              absolute left-1 top-1 w-4 h-4 rounded-full shadow
              bg-white transition-transform
              ${i?"transform translate-x-6":""}
            `})]}):e.jsx("input",{type:"checkbox",checked:i,onChange:m,className:`
              h-5 w-5 rounded border-gray-300 text-primary-600
              focus:ring-primary-500 transition-colors ${o}
            `,...c}),r&&e.jsx("span",{className:`ml-3 text-sm ${n?"font-medium":""}`,children:r})]})});R.propTypes={label:s.string,checked:s.bool,onChange:s.func,className:s.string,containerClassName:s.string,asSwitch:s.bool};const B=({children:r,variant:i="primary",className:m="",icon:o,onRemove:l,...n})=>{const c={primary:"bg-primary-100 text-primary-800",secondary:"bg-gray-100 text-gray-800",danger:"bg-red-100 text-red-800",warning:"bg-yellow-100 text-yellow-800",success:"bg-green-100 text-green-800",info:"bg-primary-100 text-primary-800",outline:"border border-gray-300 text-gray-700"};return e.jsxs("div",{className:`
        inline-flex items-center px-3 py-1 rounded-full text-sm font-medium
        ${c[i]} ${m}
      `,...n,children:[o&&e.jsx(o,{className:"mr-1.5 h-4 w-4"}),r,l&&e.jsx("button",{type:"button",onClick:l,className:"ml-1.5 p-0.5 rounded-full hover:bg-black/10 focus:outline-none",children:e.jsx(W,{className:"h-3 w-3"})})]})};B.propTypes={children:s.node.isRequired,variant:s.oneOf(["primary","secondary","danger","warning","success","info","outline"]),className:s.string,icon:s.elementType,onRemove:s.func};const L=({isOpen:r,onClose:i,children:m,title:o,size:l="md",className:n="",showCloseButton:c=!0})=>{if(!r)return null;const d={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"max-w-2xl",full:"max-w-full"};return e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex items-center justify-center bg-white/15 backdrop-blur-lg min-h-screen lg:pt-10 pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[e.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",onClick:i,children:e.jsx("div",{className:"absolute inset-0 bg-white/15"})}),e.jsx("div",{className:`
            inline-block align-bottom bg-white rounded-lg text-left
            overflow-hidden shadow-xl transform transition-all sm:my-8
            sm:align-middle w-full ${d[l]} ${n}
          `,role:"dialog","aria-modal":"true","aria-labelledby":"modal-headline",children:e.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:e.jsx("div",{className:"sm:flex sm:items-start",children:e.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:text-left w-full",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",id:"modal-headline",children:o}),c&&e.jsx("button",{onClick:i,className:"text-gray-400 hover:text-gray-500 focus:outline-none",children:e.jsx(W,{className:"h-6 w-6"})})]}),e.jsx("div",{className:"mt-2",children:m})]})})})})]})})};L.propTypes={isOpen:s.bool.isRequired,onClose:s.func.isRequired,children:s.node.isRequired,title:s.string.isRequired,size:s.oneOf(["sm","md","lg","xl","2xl","full"]),className:s.string,showCloseButton:s.bool};const ue=()=>{const[r,i]=g.useState(new Date),[m,o]=g.useState(new Date),[l,n]=g.useState([]),[c,d]=g.useState(!1),[p,h]=g.useState(null),[u,v]=g.useState({category:"all",priority:"all",completed:!1}),[a,y]=g.useState({title:"",description:"",startDate:x(new Date,"yyyy-MM-dd"),startTime:"09:00",endDate:x(new Date,"yyyy-MM-dd"),endTime:"10:00",priority:"medium",category:"work",completed:!1});g.useEffect(()=>{n([{id:1,title:"Team Meeting",description:"Weekly team sync",start:"2023-06-15T09:00:00",end:"2023-06-15T10:00:00",priority:"high",category:"work",completed:!1}])},[]);const U=t=>{o(t),y(j=>({...j,startDate:x(t,"yyyy-MM-dd"),endDate:x(t,"yyyy-MM-dd")}))},_=()=>e.jsxs("div",{className:"flex items-center justify-between py-4 px-6 bg-primary-600 text-white rounded-t-lg",children:[e.jsx(w,{onClick:()=>i(T(r,-1)),className:"p-2 rounded-full hover:bg-primary-700",children:"◀"}),e.jsx("h2",{className:"text-xl font-semibold",children:x(r,"MMMM yyyy")}),e.jsx(w,{onClick:()=>i(T(r,1)),className:"p-2 rounded-full hover:bg-primary-700",children:"▶"})]}),X=()=>{const j=[],C=P(r);for(let D=0;D<7;D++)j.push(e.jsx("div",{className:"w-full text-center p-2 font-medium",children:x(T(C,D),"EEE")},D));return e.jsx("div",{className:"grid grid-cols-7 bg-primary-100",children:j})},G=()=>{const t=I(r),j=ee(t),C=P(t),D=te(j),z=[];let E=[],b=C,H="";for(;b<=D;){for(let F=0;F<7;F++){H=x(b,"d");const M=b,Q=l.filter(f=>S(N(f.start),M));E.push(e.jsxs("div",{className:`min-h-24 p-2 border border-gray-200 ${se(b,t)?"":"bg-gray-100 text-gray-400"} ${S(b,m)?"bg-primary-50":""}`,onClick:()=>U(M),children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:`text-sm ${S(b,new Date)?"bg-primary-600 text-white rounded-full w-6 h-6 flex items-center justify-center":""}`,children:H}),e.jsx(w,{size:"sm",onClick:f=>{f.stopPropagation(),h(null),y({...a,startDate:x(M,"yyyy-MM-dd"),endDate:x(M,"yyyy-MM-dd")}),d(!0)},className:"text-xs p-1",children:"+"})]}),e.jsx("div",{className:"mt-1 space-y-1 max-h-20 overflow-y-auto",children:Q.map(f=>e.jsx("div",{onClick:V=>{V.stopPropagation(),q(f)},className:`text-xs p-1 rounded truncate cursor-pointer ${f.completed?"line-through opacity-70":""} ${f.priority==="high"?"bg-red-100 border-l-4 border-red-500":f.priority==="medium"?"bg-yellow-100 border-l-4 border-yellow-500":"bg-green-100 border-l-4 border-green-500"}`,children:f.title},f.id))})]},b)),b=T(b,1)}z.push(e.jsx("div",{className:"grid grid-cols-7",children:E},b)),E=[]}return e.jsx("div",{className:"mb-4",children:z})},q=t=>{h(t),y({title:t.title,description:t.description,startDate:x(N(t.start),"yyyy-MM-dd"),startTime:x(N(t.start),"HH:mm"),endDate:x(N(t.end),"yyyy-MM-dd"),endTime:x(N(t.end),"HH:mm"),priority:t.priority,category:t.category,completed:t.completed}),d(!0)},J=t=>{t.preventDefault();const j={id:p?p.id:Date.now(),title:a.title,description:a.description,start:`${a.startDate}T${a.startTime}:00`,end:`${a.endDate}T${a.endTime}:00`,priority:a.priority,category:a.category,completed:a.completed};n(p?l.map(C=>C.id===p.id?j:C):[...l,j]),d(!1)},K=()=>{n(l.filter(t=>t.id!==p.id)),d(!1)},O=l.filter(t=>(u.category==="all"||t.category===u.category)&&(u.priority==="all"||t.priority===u.priority)&&(!u.completed||t.completed===u.completed));return e.jsxs("div",{className:"container mx-auto p-4",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[_(),X(),G()]}),e.jsxs("div",{className:"mt-8 bg-white rounded-lg shadow-lg overflow-hidden",children:[e.jsxs("div",{className:"p-4 bg-primary-600 text-white",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Upcoming Events"}),e.jsxs("div",{className:"flex flex-wrap gap-4 mt-2",children:[e.jsx($,{value:u.category,onChange:t=>v({...u,category:t.target.value}),options:[{value:"all",label:"All Categories"},{value:"work",label:"Work"},{value:"personal",label:"Personal"},{value:"family",label:"Family"}]}),e.jsx($,{value:u.priority,onChange:t=>v({...u,priority:t.target.value}),options:[{value:"all",label:"All Priorities"},{value:"high",label:"High"},{value:"medium",label:"Medium"},{value:"low",label:"Low"}]}),e.jsx(R,{label:"Show completed",checked:u.completed,onChange:t=>v({...u,completed:t.target.checked})})]})]}),e.jsx("div",{className:"p-4",children:O.length===0?e.jsx("p",{className:"text-gray-500",children:"No events found"}):e.jsx("div",{className:"space-y-2",children:O.map(t=>e.jsxs("div",{onClick:()=>q(t),className:`p-3 rounded-lg border cursor-pointer transition-all hover:shadow-md ${t.completed?"bg-gray-50":"bg-white"}`,children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("h3",{className:`font-medium ${t.completed?"line-through text-gray-500":""}`,children:t.title}),e.jsx(B,{variant:t.priority==="high"?"danger":t.priority==="medium"?"warning":"success",children:t.priority})]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:t.description}),e.jsxs("div",{className:"flex items-center mt-2 text-xs text-gray-500",children:[e.jsxs("span",{children:[x(N(t.start),"MMM d, yyyy h:mm a")," -"," ",x(N(t.end),"h:mm a")]}),e.jsx("span",{className:"ml-4 capitalize",children:t.category})]})]},t.id))})})]}),e.jsx(L,{isOpen:c,onClose:()=>d(!1),title:p?"Edit Event":"Add New Event",children:e.jsxs("form",{onSubmit:J,children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx(k,{label:"Title",value:a.title,onChange:t=>y({...a,title:t.target.value}),required:!0}),e.jsx(A,{label:"Description",value:a.description,onChange:t=>y({...a,description:t.target.value})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(k,{type:"date",label:"Start Date",value:a.startDate,onChange:t=>y({...a,startDate:t.target.value}),required:!0}),e.jsx(k,{type:"time",label:"Start Time",value:a.startTime,onChange:t=>y({...a,startTime:t.target.value}),required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(k,{type:"date",label:"End Date",value:a.endDate,onChange:t=>y({...a,endDate:t.target.value}),required:!0}),e.jsx(k,{type:"time",label:"End Time",value:a.endTime,onChange:t=>y({...a,endTime:t.target.value}),required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx($,{label:"Priority",value:a.priority,onChange:t=>y({...a,priority:t.target.value}),options:[{value:"high",label:"High"},{value:"medium",label:"Medium"},{value:"low",label:"Low"}]}),e.jsx($,{label:"Category",value:a.category,onChange:t=>y({...a,category:t.target.value}),options:[{value:"work",label:"Work"},{value:"personal",label:"Personal"},{value:"family",label:"Family"},{value:"other",label:"Other"}]})]}),e.jsx(R,{label:"Completed",checked:a.completed,onChange:t=>y({...a,completed:t.target.checked})})]}),e.jsxs("div",{className:"flex justify-between mt-6",children:[e.jsx("div",{children:p&&e.jsx(w,{type:"button",variant:"danger",onClick:K,children:"Delete"})}),e.jsxs("div",{className:"space-x-2",children:[e.jsx(w,{type:"button",variant:"secondary",onClick:()=>d(!1),children:"Cancel"}),e.jsx(w,{type:"submit",children:p?"Update":"Save"})]})]})]})})]})};export{ue as default};
