import{T as p,d as u,f as h,u as n,r as b,aH as j,m as f,g as N,j as e}from"./index-D_CM1r6M.js";import{M as d}from"./index-jLjFIv2f.js";import"./iconBase-DSUUJbys.js";const A=()=>{const{mrno:a}=p(),o=u(),i=h(),{currentOperation:r,isLoading:m,error:l}=n(s=>s.ot),{departments:g,isLoading:y}=n(s=>s.department),{doctors:v,isLoading:w}=n(s=>s.doctor);if(b.useEffect(()=>{a&&(i(j(a)),i(f()),i(N()))},[i,a]),m)return e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-40 z-50",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg w-96",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"})}),e.jsx("p",{className:"text-center mt-4 text-gray-600",children:"Loading Current Operation details..."})]})});if(l)return console.error("Error fetching operation:",l),e.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-500",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-red-700",children:l})})]})});if(!r)return e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-white/20 backdrop-blur-lg z-50",children:e.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:e.jsxs("div",{className:"p-6 text-center",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"No currentOperation data found"}),e.jsx("div",{className:"mt-6",children:e.jsxs("button",{onClick:()=>o(-1),className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500",children:[e.jsx(d,{className:"inline mr-2"})," Back to Schedule"]})})]})})});const c=s=>{if(!s)return"N/A";try{return s.split("T")[0]}catch(x){return console.error("Error formatting date:",x),s}};return e.jsxs("div",{className:"max-w-7xl mx-auto border  border-primary-600 p-2 rounded-t-2xl",children:[e.jsxs("div",{className:"bg-primary-600 text-white p-4 rounded-t-2xl",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("button",{onClick:()=>o(-1),className:"flex items-center underline text-white hover:text-primary-100",children:[e.jsx(d,{className:"mr-2"})," Back to Schedule"]}),e.jsx("h2",{className:"text-2xl font-bold",children:"Current Operation Details"}),e.jsx("div",{className:"w-8"})," "]}),e.jsx("div",{className:"flex items-center mt-2",children:e.jsxs("span",{className:"bg-white text-primary-600 px-2 py-1 rounded-md text-sm font-bold",children:["MR#: ",r.patient_MRNo||"N/A"]})})]}),e.jsxs("div",{className:"p-6 ",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("h3",{className:"text-sm md:text-xl font-bold text-gray-800 border-b border-primary-600 pb-2 mb-4 flex items-center",children:[e.jsx("div",{className:"border flex items-center justify-center border-t-primary-50 border-r-primary-50 rounded-full pl-1.5 py-1  mr-2",children:e.jsx("svg",{className:"w-5 h-5 md:w-7 md:h-7 mr-2 text-primary-700 ",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),"Patient Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[e.jsx(t,{label:"Patient Name",value:r.patient_Details?.patient||r.patient_Details?.patient_Name||"N/A"}),e.jsx(t,{label:"MR Number",value:r.patient_MRNo||"N/A"}),e.jsx(t,{label:"Procedure",value:r.procedure||"N/A"}),e.jsx(t,{label:"Department",value:r.department})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h3",{className:"text-sm md:text-xl font-bold text-gray-800 border-b border-primary-600 pb-2 mb-4 flex items-center",children:[e.jsx("div",{className:"border flex items-center justify-center border-t-primary-50 border-r-primary-50 rounded-full pl-1.5 py-1  mr-2",children:e.jsx("svg",{className:"w-5 h-5 md:w-7 md:h-7 mr-2 text-primary-700 ",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})}),"Surgical Team"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[e.jsx(t,{label:"Senior Surgeon",value:r.otInformation?.doctor?.seniorSurgeon.join(", ")}),e.jsx(t,{label:"Assistant Doctors",value:r.otInformation?.doctor?.assistantDoctors.join(", ")||"None"}),e.jsx(t,{label:"Nurses",value:r.otInformation?.doctor?.nurses?.join(", ")||"None"})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h3",{className:"text-sm md:text-xl font-bold text-gray-800 border-b border-primary-600 pb-2 mb-4 flex items-center",children:[e.jsx("div",{className:"border flex items-center justify-center border-t-primary-50 border-r-primary-50 rounded-full pl-1.5 py-1  mr-2",children:e.jsx("svg",{className:"w-5 h-5 md:w-7 md:h-7 mr-2 text-primary-700 ",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),"currentOperation Details"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[e.jsx(t,{label:"Current Operation Date",value:c(r.otInformation?.doctor?.operation_Date)||"N/A"}),e.jsx(t,{label:"Time",value:`${r.otTime?.startTime||"N/A"} - ${r.otTime?.endTime||"N/A"}`}),e.jsx(t,{label:"OT Number",value:r.otNumber||"N/A"}),e.jsx(t,{label:"Status",value:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${r.status==="Scheduled"?"bg-primary-100 text-primary-800":r.status==="In Progress"?"bg-yellow-100 text-yellow-800":r.status==="Completed"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:r.status||"N/A"})})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h3",{className:"text-sm md:text-xl font-bold text-gray-800 border-b border-primary-600 pb-2 mb-4 flex items-center",children:[e.jsx("div",{className:"border flex items-center justify-center border-t-primary-50 border-r-primary-50 rounded-full pl-1.5 py-1  mr-2",children:e.jsx("svg",{className:"w-5 h-5 md:w-7 md:h-7 mr-2 text-primary-700 ",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),"currentOperation Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[e.jsx(t,{label:"Current Operation Name",value:r.otInformation?.operationName||"N/A"}),e.jsx(t,{label:"Reason for Current Operation",value:r.otInformation?.reasonForOperation||"N/A"}),e.jsx(t,{label:"Anesthesia Type",value:r.otInformation?.doctor?.anesthesia_Type||"N/A"}),e.jsx(t,{label:"Surgery Type",value:r.otInformation?.doctor?.surgery_Type||"N/A"})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h3",{className:"text-sm md:text-xl font-bold text-gray-800 border-b border-primary-600 pb-2 mb-4 flex items-center",children:[e.jsx("div",{className:"border flex items-center justify-center border-t-primary-50 border-r-primary-50 rounded-full pl-1.5 py-1  mr-2",children:e.jsx("svg",{className:"w-5 h-5 md:w-7 md:h-7 mr-2 text-primary-700 ",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),"Financial Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[e.jsx(t,{label:"Total Cost",value:`PKR ${r.total_Operation_Cost?.toLocaleString()||"0"}`}),e.jsx(t,{label:"Payment Status",value:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${r.operation_PaymentStatus==="Pending"?"bg-yellow-100 text-yellow-800":r.operation_PaymentStatus==="Completed"?"bg-green-100 text-green-800":"bg-fuchsia-100 text-gray-800"}`,children:r.operation_PaymentStatus||"N/A"})}),e.jsx(t,{label:"Payment Method",value:r.payment_Method||"N/A"}),e.jsx(t,{label:"Doctor's Fee",value:`PKR ${r.otInformation?.doctor?.doctors_Fee?.toLocaleString()||"0"}`})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-800 border-b border-primary-600 pb-2 mb-4 flex items-center",children:[e.jsx("div",{className:"border flex items-center justify-center border-t-primary-50 border-r-primary-50 rounded-full pl-1.5 py-1  mr-2",children:e.jsx("svg",{className:"w-5 h-5 md:w-7 md:h-7 mr-2 text-primary-700 ",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),"Notes"]}),e.jsx("div",{className:"bg-primary-100 p-4 rounded-md",children:e.jsx("p",{className:"text-gray-700",children:r.notes||"No additional notes"})})]})]})]})},t=({label:a,value:o})=>e.jsxs("div",{className:"bg-primary-50 border border-primary-600 p-3 rounded-md",children:[e.jsx("p",{className:"text-sm font-bold text-gray-700",children:a}),e.jsx("p",{className:"text-primary-700 font-medium mt-1 italic underline underline-offset-4",children:o||"N/A"})]});export{A as default};
