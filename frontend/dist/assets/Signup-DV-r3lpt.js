import{d as j,r as n,j as e,aY as f}from"./index-D_CM1r6M.js";import{l as w}from"./login_back-T7QLT82_.js";const h="http://192.168.88.29:5002",N=()=>{const i=j(),[s,u]=n.useState({user_Email:"",user_Password:"",user_Contact:"",user_Address:"",user_Access:""}),[l,m]=n.useState(1),[g,b]=n.useState(""),[p,c]=n.useState(""),[x,a]=n.useState(""),o=r=>{u({...s,[r.target.name]:r.target.value})},y=async r=>{r.preventDefault(),a(""),c("");try{const t=await f.post(`${h}/user/sign-up`,s);t.data.success?(c("âœ… Verification code sent to your email."),m(2)):a(t.data.message||"Signup failed.")}catch(t){a(t.response?.data?.message||"Server error during signup.")}},v=async r=>{r.preventDefault(),a(""),c("");try{const t=await f.post(`${h}/user/verify-email`,{code:g});t.data.success?(c("ðŸŽ‰ Email verified successfully!"),setTimeout(()=>{i("/")},1500)):a(t.data.message||"Verification failed.")}catch(t){a(t.response?.data?.message||"Server error during verification.")}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-cover bg-center p-6",style:{backgroundImage:`url(${w})`},children:e.jsxs("div",{className:"w-full max-w-lg p-8 bg-white border border-primary-100 shadow-2xl rounded-3xl transition-all",children:[e.jsx("h2",{className:"text-3xl font-bold text-center text-primary-600 mb-6 tracking-tight",children:l===1?"Create Your Account":"Email Verification"}),p&&e.jsx("div",{className:"text-green-600 font-medium text-sm mb-4",children:p}),x&&e.jsx("div",{className:"text-red-600 font-medium text-sm mb-4",children:x}),l===1?e.jsxs("form",{onSubmit:y,className:"space-y-4",children:[e.jsx(d,{label:"Email",type:"email",name:"user_Email",value:s.user_Email,onChange:o}),e.jsx(d,{label:"Password",type:"password",name:"user_Password",value:s.user_Password,onChange:o}),e.jsx(d,{label:"Contact",type:"text",name:"user_Contact",value:s.user_Contact,onChange:o}),e.jsx(d,{label:"Address",type:"text",name:"user_Address",value:s.user_Address,onChange:o}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),e.jsxs("select",{name:"user_Access",value:s.user_Access,onChange:o,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:outline-none bg-white",children:[e.jsx("option",{value:"Admin",children:"Admin"}),e.jsx("option",{value:"Receptionist",children:"Receptionist"}),e.jsx("option",{value:"Lab",children:"Lab"})]})]}),e.jsx("button",{type:"submit",className:"w-full bg-linear-to-r from-purple-500 to-primary-500 hover:from-primary-500 hover:to-purple-500 text-white font-semibold py-2.5 rounded-xl shadow-lg transition-all",children:"Register & Send Code"})]}):e.jsxs("form",{onSubmit:v,className:"space-y-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Enter the verification code sent to your email"}),e.jsx("input",{type:"text",value:g,onChange:r=>b(r.target.value),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:outline-none bg-white",placeholder:"e.g., 123456"}),e.jsx("button",{type:"submit",className:"w-full bg-linear-to-r from-green-500 to-emerald-500 hover:from-emerald-500 hover:to-green-500 text-white font-semibold py-2.5 rounded-xl shadow-lg transition-all",children:"Verify Email"})]})]})})},d=({label:i,type:s,name:u,value:l,onChange:m})=>e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:i}),e.jsx("input",{type:s,name:u,value:l,onChange:m,required:!0,placeholder:`Enter ${i.toLowerCase()}`,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-400 focus:outline-none bg-white"})]});export{N as default};
