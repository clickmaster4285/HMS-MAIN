import{T as f,f as b,u as y,r as w,ad as A,j as e}from"./index-D_CM1r6M.js";import{f as D}from"./format-C6WB0tTj.js";const k=()=>{const{mrno:i}=f(),l=b(),{currentPatient:t,status:h,error:g}=y(s=>s.ipdPatient);w.useEffect(()=>{i&&l(A(i))},[i,l]);const r=t?.patient||{},d=t?.admission_Details||{},c=t?.ward_Information||{},n=t?.financials||{},m=r?.patient_Guardian||{},j=s=>{if(!s)return"N/A";const p=new Date(s),v=Date.now()-p.getTime(),N=new Date(v);return Math.abs(N.getUTCFullYear()-1970)},x=s=>{if(!s)return"N/A";try{return D(new Date(s),"dd MMM yyyy, hh:mm a")}catch{return"N/A"}},u=s=>s==null?"N/A":new Intl.NumberFormat("en-PK",{style:"currency",currency:"PKR"}).format(s);return h==="loading"?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):h==="failed"?e.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-500",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-red-700",children:g?.message||g||"Failed to load patient details"})})]})}):t?e.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden max-w-7xl mx-auto my-8",children:[e.jsx("div",{className:"bg-primary-600 text-white p-6",children:e.jsx("div",{className:"flex justify-between items-start",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Patient Details"}),e.jsxs("div",{className:"flex items-center mt-2",children:[e.jsxs("span",{className:"bg-white text-primary-600 px-3 py-1 rounded-md text-sm font-bold",children:["MR#: ",r.patient_MRNo||"N/A"]}),e.jsx("span",{className:`ml-3 px-3 py-1 rounded-md text-sm font-bold ${t.status==="Admitted"?"bg-green-100 text-green-800":"bg-primary-100 text-primary-800"}`,children:t.status})]})]})})}),e.jsxs("div",{className:"p-6",children:[e.jsx(o,{title:"Personal Information",icon:e.jsx("svg",{className:"w-5 h-5 mr-2 text-primary-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsx(a,{label:"Full Name",value:r.patient_Name}),e.jsx(a,{label:"Gender",value:r.patient_Gender}),e.jsx(a,{label:"Age",value:`${j(r.patient_DateOfBirth)} years`}),e.jsx(a,{label:"Date of Birth",value:x(r.patient_DateOfBirth)}),e.jsx(a,{label:"CNIC",value:r.patient_CNIC||"N/A"}),e.jsx(a,{label:"Address",value:r.patient_Address||"N/A"})]})}),e.jsx(o,{title:"Admission Details",icon:e.jsx("svg",{className:"w-5 h-5 mr-2 text-primary-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsx(a,{label:"Admission Date",value:x(d.admission_Date)}),e.jsx(a,{label:"Discharge Date",value:x(d.discharge_Date)}),e.jsx(a,{label:"Days Admitted",value:t.daysAdmitted||"N/A"}),e.jsx(a,{label:"Ward Type",value:c.ward_Type||"N/A"}),e.jsx(a,{label:"Ward Number",value:c.ward_No||"N/A"}),e.jsx(a,{label:"Bed Number",value:c.bed_No||"N/A"})]})}),e.jsx(o,{title:"Medical Information",icon:e.jsx("svg",{className:"w-5 h-5 mr-2 text-primary-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})}),children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(a,{label:"Diagnosis",value:d.diagnosis||"N/A"}),e.jsx(a,{label:"Admission Type",value:d.admission_Type||"N/A"}),e.jsx(a,{label:"Admitting Doctor",value:d.admitting_Doctor||"N/A"})]})}),e.jsx(o,{title:"Financial Information",icon:e.jsx("svg",{className:"w-5 h-5 mr-2 text-primary-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsx(a,{label:"Admission Fee",value:u(n.admission_Fee)}),e.jsx(a,{label:"Discount",value:u(n.discount)}),e.jsx(a,{label:"Total Charges",value:u(n.total_Charges)}),e.jsx(a,{label:"Payment Status",value:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${n.payment_Status==="Paid"?"bg-green-100 text-green-800":n.payment_Status==="Partial"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:n.payment_Status||"N/A"})})]})}),e.jsx(o,{title:"Guardian Information",icon:e.jsx("svg",{className:"w-5 h-5 mr-2 text-primary-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(a,{label:"Name",value:m.guardian_Name||"N/A"}),e.jsx(a,{label:"Relation",value:m.guardian_Relation||"N/A"}),e.jsx(a,{label:"Contact",value:m.guardian_Contact||"N/A"})]})})]})]}):e.jsx("div",{className:"text-center py-8 text-gray-500",children:"No patient data found"})},o=({title:i,icon:l,children:t})=>e.jsxs("div",{className:"mb-8 bg-gray-50 rounded-lg p-5 border border-gray-200",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[l,i]}),t]}),a=({label:i,value:l})=>e.jsxs("div",{className:"bg-white p-3 rounded-md border border-gray-200",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:i}),e.jsx("p",{className:"text-gray-800 font-medium mt-1",children:l||"N/A"})]});export{k as default};
