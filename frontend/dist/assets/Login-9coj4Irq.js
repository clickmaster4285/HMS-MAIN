import{r as l,f as h,d as y,u as m,ch as b,j as e,ci as c,y as a}from"./index-D_CM1r6M.js";import{l as w}from"./login_back-T7QLT82_.js";const N=()=>{const[t,f]=l.useState(""),[i,g]=l.useState(""),n=h(),d=y(),u=m(s=>s.auth.status),p=m(s=>s.auth.error);l.useEffect(()=>{p&&n(b())},[t,i,n]);const x=async s=>{s.preventDefault();const o=await n(c({email:t,identifier:t,password:i}));if(c.fulfilled.match(o)){const r=o.payload.user.user_Access;a.success("Login successful!"),d(`/${r.toLowerCase()}/dashboard`)}else if(c.rejected.match(o)){const r=o.payload;r?.status===403?a.error(r.message||"Your account has been deactivated. Please contact administrator."):r?.status===401?a.error(r.message||"Please verify your email before logging in."):r?.status===404?a.error("Invalid credentials. Please check your email/identifier and password."):r?.status===400?a.error("Invalid credentials. Please check your email/identifier and password."):a.error(r?.message||"Login failed. Please try again.")}};return e.jsx("div",{className:"min-h-screen w-full flex items-center pl-40 bg-gray-100",style:{backgroundImage:`url(${w})`,backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},children:e.jsxs("div",{className:"w-full max-w-md p-8 bg-white bg-opacity-80 shadow-lg rounded-3xl border border-gray-300",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6 text-center",children:"Welcome Back"}),e.jsxs("form",{className:"space-y-4",onSubmit:x,children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email or Identifier"}),e.jsx("input",{type:"text",id:"email",className:"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"Enter your email or ID",required:!0,value:t,onChange:s=>f(s.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),e.jsx("input",{type:"password",id:"password",className:"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"Enter your password",required:!0,value:i,onChange:s=>g(s.target.value)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"h-4 w-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"Remember me"})]}),e.jsx("a",{href:"#",className:"text-sm text-primary-600 hover:underline focus:outline-none",children:"Forgot password?"})]}),e.jsx("button",{type:"submit",className:"w-full py-3 px-4 bg-primary-500 text-white font-semibold rounded-lg shadow-md hover:bg-primary-600 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:opacity-50",disabled:u==="loading",children:u==="loading"?"Logging in...":"Login"})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",e.jsx("a",{href:"#",onClick:()=>d("/signup"),className:"text-primary-600 font-medium hover:underline focus:outline-none",children:"Sign up"})]})})]})})};export{N as default};
