import{f as I,o as J,b as L,c as K,s as N,d as Q,h as T,l as U,e as X}from"./floating-ui.dom-DefJBFq2.js";import{r as s}from"./index-D_CM1r6M.js";import{r as Y}from"./index-DzhyyO-l.js";var Z=typeof document<"u",ee=function(){},w=Z?s.useLayoutEffect:ee;function R(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,f;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!R(e[r],t[r]))return!1;return!0}if(f=Object.keys(e),n=f.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,f[r]))return!1;for(r=n;r--!==0;){const p=f[r];if(!(p==="_owner"&&e.$$typeof)&&!R(e[p],t[p]))return!1}return!0}return e!==e&&t!==t}function A(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function z(e,t){const n=A(e);return Math.round(t*n)/n}function E(e){const t=s.useRef(e);return w(()=>{t.current=e}),t}function oe(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:f,elements:{reference:p,floating:q}={},transform:k=!0,whileElementsMounted:D,open:x}=e,[i,C]=s.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[M,B]=s.useState(r);R(M,r)||B(r);const[V,W]=s.useState(null),[b,G]=s.useState(null),_=s.useCallback(o=>{o!==a.current&&(a.current=o,W(o))},[]),v=s.useCallback(o=>{o!==d.current&&(d.current=o,G(o))},[]),u=p||V,l=q||b,a=s.useRef(null),d=s.useRef(null),y=s.useRef(i),H=D!=null,P=E(D),S=E(f),F=E(x),g=s.useCallback(()=>{if(!a.current||!d.current)return;const o={placement:t,strategy:n,middleware:M};S.current&&(o.platform=S.current),K(a.current,d.current,o).then(h=>{const m={...h,isPositioned:F.current!==!1};$.current&&!R(y.current,m)&&(y.current=m,Y.flushSync(()=>{C(m)}))})},[M,t,n,S,F]);w(()=>{x===!1&&y.current.isPositioned&&(y.current.isPositioned=!1,C(o=>({...o,isPositioned:!1})))},[x]);const $=s.useRef(!1);w(()=>($.current=!0,()=>{$.current=!1}),[]),w(()=>{if(u&&(a.current=u),l&&(d.current=l),u&&l){if(P.current)return P.current(u,l,g);g()}},[u,l,g,P,H]);const O=s.useMemo(()=>({reference:a,floating:d,setReference:_,setFloating:v}),[_,v]),c=s.useMemo(()=>({reference:u,floating:l}),[u,l]),j=s.useMemo(()=>{const o={position:n,left:0,top:0};if(!c.floating)return o;const h=z(c.floating,i.x),m=z(c.floating,i.y);return k?{...o,transform:"translate("+h+"px, "+m+"px)",...A(c.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:h,top:m}},[n,k,c.floating,i.x,i.y]);return s.useMemo(()=>({...i,update:g,refs:O,elements:c,floatingStyles:j}),[i,g,O,c,j])}const te=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:f}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?L({element:r.current,padding:f}).fn(n):{}:r?L({element:r,padding:f}).fn(n):{}}}},fe=(e,t)=>({...J(e),options:[e,t]}),ie=(e,t)=>({...N(e),options:[e,t]}),ue=(e,t)=>({...U(e),options:[e,t]}),le=(e,t)=>({...I(e),options:[e,t]}),ce=(e,t)=>({...Q(e),options:[e,t]}),ae=(e,t)=>({...T(e),options:[e,t]}),de=(e,t)=>({...X(e),options:[e,t]}),me=(e,t)=>({...te(e),options:[e,t]});export{me as a,ce as b,le as f,ae as h,de as i,ue as l,fe as o,ie as s,oe as u};
