import{j as e,r as f,u as y,f as v,bN as b}from"./index-D_CM1r6M.js";import{R as x,P as p,a as u,C as g,X as N,Y as w,T,b as C}from"./PieChart--5BpeV_V.js";import{L as h}from"./Legend-Cyn-pqU8.js";import{D as m}from"./dollar-sign-CCFmVWDc.js";import{F as R}from"./flask-conical-CTRHkRGF.js";import{C as D}from"./circle-alert--nbTxiuF.js";import{C as A}from"./circle-check-big-ClJgYXp0.js";import{T as S}from"./timer-BY_MC2IY.js";import{m as o}from"./proxy-DAScg_hi.js";import{B as P,a as j}from"./BarChart-BpMUM2xm.js";import{B as $}from"./bell-DL2PS0gm.js";import{T as L}from"./triangle-alert-BHqHjwif.js";import{C as B}from"./chevron-right-DyL7Ofzf.js";import"./createLucideIcon-lGOnjJ_s.js";import"./index-DzhyyO-l.js";import"./index-Rj29YxKv.js";import"./with-selector-Cb_tpc66.js";import"./tiny-invariant-BaFNuDhB.js";const k=()=>{const s=new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),r=new Date().toLocaleTimeString();return e.jsx("div",{className:"bg-primary-600 rounded-md text-white px-6 py-8 shadow-md",children:e.jsxs("div",{className:"flex justify-between items-center max-w-9xl mx-auto",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-12 w-1 bg-primary-300 mr-4 rounded-full"}),e.jsx("div",{className:"flex justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Dashboard"}),e.jsx("p",{className:"text-primary-100 mt-1",children:s})]})})]}),e.jsxs("div",{className:"flex",children:[e.jsxs("div",{className:"text-sm ",children:[e.jsx("h1",{className:"text-xl font-semibold",children:r}),e.jsx("span",{className:"text-primary-100",children:"Live Updates"})]}),e.jsx("div",{className:"h-12 w-1 bg-primary-300 ml-4 rounded-full"})]})]})})},E=s=>{switch(s.toLowerCase()){case"pending":return{icon:e.jsx(S,{className:"w-8 h-8 text-[#009689]"}),color:"text-[#009689]",description:"Awaiting Processing"};case"completed":return{icon:e.jsx(A,{className:"w-8 h-8 text-[#009689]"}),color:"text-[#009689]",description:"Tests Completed Successfully"};case"urgent":return{icon:e.jsx(D,{className:"w-8 h-8 text-red-500"}),color:"text-red-500",description:"Requires Immediate Attention"};case"total tests":return{icon:e.jsx(R,{className:"w-8 h-8 text-[#009689]"}),color:"text-[#009689]",description:"All tests recorded"};case"total revenue":return{icon:e.jsx(m,{className:"w-8 h-8 text-[#009689]"}),color:"text-[#009689]",description:"Total income from tests"};case"pending revenue":return{icon:e.jsx(m,{className:"w-8 h-8 text-[#009689]"}),color:"text-[#009689]",description:"Awaiting payment"};case"completed revenue":return{icon:e.jsx(m,{className:"w-8 h-8 text-[#009689]"}),color:"text-[#009689]",description:"Payments received"};case"refunded revenue":return{icon:e.jsx(m,{className:"w-8 h-8 text-red-500"}),color:"text-red-500",description:"Refunded amounts"};default:return{icon:null,color:"text-gray-500",description:""}}},d=({title:s,value:r})=>{const{icon:a,color:n,description:t}=E(s);return e.jsxs("div",{className:"bg-white shadow-md p-4 rounded-xl flex flex-col gap-2 hover:shadow-lg transition-shadow duration-300 border border-gray-100",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:`text-3xl font-bold ${n}`,children:r}),a&&e.jsx("div",{className:"text-3xl",children:a})]}),e.jsx("p",{className:"text-base text-gray-600",children:s}),e.jsx("span",{className:`text-xs font-medium ${n}`,children:t})]})},K=({data:s})=>{const[r,a]=f.useState("test"),n=[{name:"Completed",value:s?.completedTests||0},{name:"Pending",value:s?.pendingTests||0},{name:"Urgent",value:s?.urgentTests||0}].filter(i=>i.value>0),t=[{name:"Completed Revenue",value:s?.paidRevenue||0},{name:"Pending Revenue",value:s?.pendingRevenue||0},{name:"Refunded Revenue",value:s?.refundedRevenue||0}].filter(i=>i.value>0),l=["#009689","#4db6ac","#b2dfdb"];return e.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:r==="test"?"Test Summary":"Revenue Summary"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>a("test"),className:`px-4 py-2 rounded-lg text-sm font-medium ${r==="test"?"bg-[#009689] text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Test View"}),e.jsx("button",{onClick:()=>a("revenue"),className:`px-4 py-2 rounded-lg text-sm font-medium ${r==="revenue"?"bg-[#009689] text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Revenue View"})]})]}),r==="test"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[e.jsx(d,{title:"Total Tests",value:s?.totalTests||0}),e.jsx(d,{title:"Completed",value:s?.completedTests||0}),e.jsx(d,{title:"Pending",value:s?.pendingTests||0}),e.jsx(d,{title:"Urgent",value:s?.urgentTests||0})]}),e.jsxs("div",{className:"h-64",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-600 mb-2",children:"Test Distribution"}),e.jsx(x,{width:"100%",height:"100%",children:e.jsxs(p,{children:[e.jsx(u,{data:n,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:80,fill:"#009689",label:!0,children:n.map((i,c)=>e.jsx(g,{fill:l[c%l.length]},`cell-${c}`))}),e.jsx(h,{})]})})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[e.jsx(d,{title:"Total Revenue",value:s?.totalRevenue||0}),e.jsx(d,{title:"Pending Revenue",value:s?.pendingRevenue||0}),e.jsx(d,{title:"Completed Revenue",value:s?.paidRevenue||0}),e.jsx(d,{title:"Refunded Revenue",value:s?.refundedRevenue||0})]}),e.jsxs("div",{className:"h-64",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-600 mb-2",children:"Revenue Distribution"}),e.jsx(x,{width:"100%",height:"100%",children:e.jsxs(p,{children:[e.jsx(u,{data:t,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:80,fill:"#009689",label:!0,children:t.map((i,c)=>e.jsx(g,{fill:l[c%l.length]},`cell-${c}`))}),e.jsx(h,{})]})})]})]})]})},O=({testHistory:s})=>{const a=(()=>{if(!Array.isArray(s))return[];const t={};return s.forEach(l=>{l.selectedTests.forEach(i=>{const c=i.testDetails.testName;t[c]||(t[c]={completed:0,pending:0}),i.testDetails.reportStatus==="completed"?t[c].completed++:t[c].pending++})}),Object.entries(t).map(([l,i])=>({type:l,...i,total:i.completed+i.pending})).sort((l,i)=>i.total-l.total)})(),n=a.map(t=>({name:t.type.length>10?`${t.type.substring(0,8)}...`:t.type,completed:t.completed,pending:t.pending}));return e.jsxs(o.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 h-full",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Test Types Overview"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("span",{className:"flex items-center text-sm text-gray-500",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-[#009689] mr-1"}),"Completed"]}),e.jsxs("span",{className:"flex items-center text-sm text-sm text-gray-500",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-[#4db6ac] mr-1"}),"Pending"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto pr-2",children:a.map((t,l)=>e.jsxs(o.div,{whileHover:{x:5},className:"flex items-center justify-between p-3 hover:bg-gray-50 rounded-lg transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-[#009689]"}),e.jsx("span",{className:"font-medium text-gray-700",children:t.type})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("span",{className:"text-[#009689] font-medium",children:t.completed}),e.jsx("span",{className:"text-[#4db6ac] font-medium",children:t.pending})]})]},l))}),e.jsx("div",{className:"h-80",children:e.jsx(x,{width:"100%",height:"100%",children:e.jsxs(P,{data:n,children:[e.jsx(N,{dataKey:"name"}),e.jsx(w,{}),e.jsx(T,{}),e.jsx(h,{}),e.jsx(j,{dataKey:"completed",fill:"#009689",radius:[4,4,0,0]}),e.jsx(j,{dataKey:"pending",fill:"#4db6ac",radius:[4,4,0,0]})]})})})]})]})},M=({alerts:s})=>{if(!s||s.length===0)return e.jsx(o.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 h-full flex flex-col items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx($,{className:"w-10 h-10 text-green-500 mx-auto mb-3"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"All Clear!"}),e.jsx("p",{className:"text-gray-500 mt-1",children:"No urgent alerts at this time"})]})});const r=a=>{switch(a){case"critical":return"bg-red-100 border-l-red-600";case"high":return"bg-orange-100 border-l-orange-500";case"medium":return"bg-amber-100 border-l-amber-400";default:return"bg-gray-100 border-l-gray-400"}};return e.jsxs(o.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 h-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Alerts & Notifications"}),e.jsxs("span",{className:"bg-red-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:[s.length," New"]})]}),e.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto pr-2",children:s.map(a=>e.jsxs(o.div,{whileHover:{scale:1.01},className:`p-4 rounded-lg border-l-4 ${r(a.priority)} flex flex-col sm:flex-row justify-between gap-2 cursor-pointer transition-all`,children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`p-2 rounded-full ${a.priority==="critical"?"bg-red-200":"bg-amber-200"}`,children:e.jsx(L,{className:`w-4 h-4 ${a.priority==="critical"?"text-red-600":"text-amber-600"}`})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-800",children:a.message}),e.jsxs("div",{className:"flex flex-wrap gap-x-3 gap-y-1 mt-1",children:[e.jsxs("span",{className:"text-xs text-gray-500",children:["Patient: ",a.patient]}),e.jsxs("span",{className:"text-xs text-gray-500",children:["Test: ",a.testType]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[e.jsx(C,{className:"w-3 h-3"}),e.jsx("span",{children:a.timeStatus})]})]},a.id))}),e.jsx("div",{className:"mt-4 pt-3 border-t border-gray-100",children:e.jsxs("button",{className:"w-full flex items-center justify-center gap-2 text-sm text-primary-600 hover:text-primary-800",children:[e.jsx(B,{className:"w-4 h-4"}),e.jsx("span",{children:"View all alerts"})]})})]})},F=[{name:"Dr. James Smith",status:"Break",tests:12,efficiency:76,performance:68},{name:"Dr. Emily Johnson",status:"Active",tests:30,efficiency:88,performance:90},{name:"Dr. Michael Brown",status:"Active",tests:19,efficiency:82,performance:79},{name:"Dr. Linda Davis",status:"Break",tests:25,efficiency:70,performance:75},{name:"Dr. Robert Garcia",status:"Active",tests:28,efficiency:91,performance:92},{name:"Dr. Patricia Martinez",status:"Off",tests:10,efficiency:65,performance:60}],H=()=>e.jsxs("div",{className:"bg-white p-4 border mx-4 mt-4 rounded-md shadow-md",children:[e.jsx("h3",{className:"font-bold mb-4",children:"Lab Technician Summary"}),e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-left border-b border-gray-500 ",children:[e.jsx("th",{className:"py-3",children:"Technician"}),e.jsx("th",{className:"py-3",children:"Status"}),e.jsx("th",{className:"py-3",children:"Tests Today"}),e.jsx("th",{className:"py-3",children:"Efficiency"}),e.jsx("th",{className:"py-3",children:"Performance"})]})}),e.jsx("tbody",{children:F.map((s,r)=>e.jsxs("tr",{className:"border-b border-gray-500",children:[e.jsx("td",{className:"py-3",children:s.name}),e.jsx("td",{className:"py-3",children:e.jsx("span",{className:`px-2 py-1 text-xs rounded-md ${s.status==="Active"?"bg-green-100 text-green-600":s.status==="Break"?"bg-yellow-100 text-yellow-600":"bg-gray-100 text-gray-500"}`,children:s.status})}),e.jsx("td",{className:"py-3",children:s.tests}),e.jsxs("td",{className:"py-3",children:[s.efficiency,"%"]}),e.jsxs("td",{className:"py-3",children:[e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${s.performance}%`}})}),e.jsxs("span",{className:"text-xs text-gray-600 ml-1",children:[s.performance,"%"]})]})]},r))})]})]}),ie=()=>{const{testHistory:s,stats:r,alerts:a}=y(t=>t.patientTest),n=v();return f.useEffect(()=>{n(b())},[n]),e.jsxs("div",{className:"bg-gray-50 min-h-screen",children:[e.jsx(k,{}),e.jsxs(o.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"container mx-auto px-4 py-6",children:[e.jsx(K,{data:r}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mt-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx(O,{testHistory:s})}),e.jsx("div",{children:e.jsx(M,{alerts:a})})]}),e.jsx(H,{testHistory:s})]})]})};export{ie as default};
