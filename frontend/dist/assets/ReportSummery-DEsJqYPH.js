import{j as e,T as C,u as _,f as B,r as N,cb as K,e as M}from"./index-D_CM1r6M.js";import{C as $,D as E,e as H,E as O,o as z,k as F,l as I}from"./index-C4dsM683.js";import{R as f}from"./server.browser-DuO4EFVg.js";import"./iconBase-DSUUJbys.js";const L=({reports:m,dateRange:x})=>{const u=(s,n="N/A")=>s||n,d=s=>{if(!s)return"N/A";const n=new Date(s),o=n.getDate().toString().padStart(2,"0"),h=(n.getMonth()+1).toString().padStart(2,"0"),b=n.getFullYear();return`${o}-${h}-${b}`},g=s=>s?new Date(s).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):"N/A",a=s=>`${s?.toLocaleString("en-PK")||"0"}`,c=m.reduce((s,n)=>({totalAmount:s.totalAmount+n.totalAmount,totalDiscount:s.totalDiscount+(n.discountAmount||0),totalPaid:s.totalPaid+(n.advanceAmount||0),totalBalance:s.totalBalance+((n.totalAmount||0)-(n.advanceAmount||0))}),{totalAmount:0,totalDiscount:0,totalPaid:0,totalBalance:0}),l=(()=>{const s={};return m.forEach(n=>{const o=n.patient_Detail?.referredBy||"Not Specified";s[o]=(s[o]||0)+1}),Object.entries(s).map(([n,o])=>({name:n,count:o})).sort((n,o)=>o.count-n.count)})();return e.jsxs("html",{children:[e.jsxs("head",{children:[e.jsx("title",{children:"Report Summary"}),e.jsx("script",{src:"https://cdn.tailwindcss.com"}),e.jsx("style",{children:`
            @page {
              size: A4;
              margin: 2mm 4mm;
            }
              
            body {
              margin: 0;
              padding: 2mm;
              color: #333;
              width: 210mm;
              height: 297mm;
              position: relative;
              font-size: 11px;
              line-height: 1.3;
              -webkit-print-color-adjust: exact;
              print-color-adjust: exact;
              font-family: 'Inter', sans-serif;
            }

            .print-button {
              position: fixed;
              top: 10mm;
              right: 10mm;
              padding: 5px 10px;
              background: #333;
              color: white;
              border: none;
              border-radius: 3px;
              cursor: pointer;
              z-index: 1000;
            }

            @media print {
              .print-button {
                display: none;
              }
            }
          `})]}),e.jsxs("body",{className:"bg-white",children:[e.jsx("button",{className:"print-button",onClick:()=>window.print(),children:"Print Report"}),e.jsxs("div",{className:"text-center mb-6 border-b pb-4",children:[e.jsx("h1",{className:"text-xl font-bold uppercase tracking-wide",children:"AL-SHAHBAZ MODERN DIAGNOSTIC CENTER"}),e.jsxs("h2",{className:"text-md font-medium mt-2",children:["Report Summary: ",d(x.startDate),x.endDate&&` to ${d(x.endDate)}`]})]}),e.jsx("div",{className:"grid grid-cols-4 gap-3 mb-6",children:[{label:"Total Amount",value:c.totalAmount},{label:"Total Paid",value:c.totalPaid},{label:"Total Discount",value:c.totalDiscount},{label:"Total Remaining Amount ",value:c.totalBalance}].map((s,n)=>e.jsxs("div",{className:"border p-3 rounded shadow-sm",children:[e.jsx("h3",{className:"text-xs font-medium text-gray-500",children:s.label}),e.jsx("p",{className:"text-lg font-semibold",children:a(s.value)})]},n))}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"font-medium border-b pb-1 mb-3",children:"Referred By Doctors Summary"}),e.jsx("div",{className:"grid grid-cols-3 gap-4",children:l.map((s,n)=>e.jsxs("div",{className:"flex justify-between p-1 border-b",children:[e.jsx("span",{children:s.name}),e.jsxs("span",{className:"font-medium",children:[s.count," patients"]})]},n))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("h3",{className:"font-medium",children:"Patient Reports"}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Total Reports: ",m.length]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50 text-left border-b",children:[e.jsx("th",{className:"p-2 border border-gray-200",children:"#"}),e.jsx("th",{className:"p-2 border border-gray-200",children:"Patient_Name"}),e.jsx("th",{className:"p-2 border border-gray-200",children:"Test Names"}),e.jsx("th",{className:"p-2 border border-gray-200",children:"MR No."}),e.jsx("th",{className:"p-2 border border-gray-200",children:"Recp. #"}),e.jsx("th",{className:"p-2 border border-gray-200",children:"Date"}),e.jsx("th",{className:"p-2 border border-gray-200",children:"InTime"}),e.jsx("th",{className:"p-2 border border-gray-200",children:"OutTime"}),e.jsx("th",{className:"p-2 border border-gray-200",children:"Referred By"}),e.jsx("th",{className:"p-2 border border-gray-200 text-right",children:"Amount"}),e.jsx("th",{className:"p-2 border border-gray-200 text-right",children:"Paid"}),e.jsx("th",{className:"p-2 border border-gray-200 text-right",children:"Discount"}),e.jsx("th",{className:"p-2 border border-gray-200 text-right",children:"Remaining Amount"})]})}),e.jsx("tbody",{children:m.map((s,n)=>{const o=s.testResults?.map(h=>new Date(h.updatedAt))?.sort((h,b)=>b-h)[0];return e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"p-2 border border-gray-200",children:n+1}),e.jsx("td",{className:"p-2 border border-gray-200",children:u(s.patient_Detail?.patient_Name)}),e.jsx("td",{className:"p-2 border border-gray-200",children:s.selectedTests?.map(h=>h.testDetails?.testName||"N/A")?.filter(h=>h!=="N/A")?.join(", ")}),e.jsx("td",{className:"p-2 border border-gray-200",children:u(s.patient_Detail?.patient_MRNo)}),e.jsx("td",{className:"p-2 border border-gray-200",children:s.tokenNumber}),e.jsx("td",{className:"p-2 border border-gray-200",children:d(s.createdAt)}),e.jsx("td",{className:"p-2 border border-gray-200",children:g(s.createdAt)}),e.jsx("td",{className:"p-2 border border-gray-200",children:o?g(o):"N/A"}),e.jsx("td",{className:"p-2 border border-gray-200",children:u(s.patient_Detail?.referredBy)}),e.jsx("td",{className:"p-2 border border-gray-200 text-right",children:a(s.totalAmount)}),e.jsx("td",{className:"p-2 border border-gray-200 text-right",children:a(s.totalPaid)}),e.jsx("td",{className:"p-2 border border-gray-200 text-right",children:a(s.discountAmount)}),e.jsx("td",{className:"p-2 border border-gray-200 text-right",children:a(s.remainingAmount)})]},n)})})]})})]}),e.jsx("div",{className:"text-center text-xs text-gray-500 pt-4 border-t absolute bottom-0 left-0 right-0 pb-2",children:e.jsxs("p",{children:["Computer generated report | Page 1 of 1 |"," ",new Date().toLocaleString()]})})]})]})},Q=({reports:m,dateRange:x})=>{const u=r=>{if(!r)return"N/A";const l=new Date(r),s=l.getDate().toString().padStart(2,"0"),n=(l.getMonth()+1).toString().padStart(2,"0"),o=l.getFullYear();return`${s}-${n}-${o}`},d=r=>`${r?.toLocaleString("en-PK")||"0"}`,a=m.reduce((r,l)=>({totalAmount:r.totalAmount+(l.totalAmount||0),totalDiscount:r.totalDiscount+(l.discountAmount||0),totalPaid:r.totalPaid+(l.advanceAmount||0),totalBalance:r.totalBalance+((l.totalAmount||0)-(l.advanceAmount||0))}),{totalAmount:0,totalDiscount:0,totalPaid:0,totalBalance:0}),c=(()=>{const r={};return m.forEach(l=>{const s=l.patient_Detail?.referredBy||"Not Specified";r[s]||(r[s]={count:0,totalAmount:0,totalPaid:0}),r[s].count+=1,r[s].totalAmount+=l.totalAmount||0,r[s].totalPaid+=l.advanceAmount||0}),Object.entries(r).map(([l,s])=>({name:l,...s})).sort((l,s)=>s.count-l.count)})();return e.jsxs("html",{children:[e.jsxs("head",{children:[e.jsx("title",{children:"Quick Report Summary"}),e.jsx("script",{src:"https://cdn.tailwindcss.com"}),e.jsx("style",{children:`
            @page {
              size: A4;
              margin: 5mm 10mm;
            }
              
            body {
              margin: 0;
              padding: 5mm;
              color: #333;
              width: 210mm;
              height: 297mm;
              position: relative;
              font-size: 11px;
              line-height: 1.3;
              -webkit-print-color-adjust: exact;
              print-color-adjust: exact;
              font-family: 'Inter', sans-serif;
            }

            @media print {
              .no-print {
                display: none;
              }
            }
          `})]}),e.jsxs("body",{className:"bg-white",children:[e.jsxs("div",{className:"text-center mb-6 border-b pb-4",children:[e.jsx("h1",{className:"text-xl font-bold uppercase tracking-wide",children:"AL-SHAHBAZ MODERN DIAGNOSTIC CENTER"}),e.jsx("h2",{className:"text-md font-medium mt-2",children:"QUICK REPORT SUMMARY"}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[x.startDate&&u(x.startDate),x.endDate&&` to ${u(x.endDate)}`]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Generated on: ",new Date().toLocaleString()]})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-3 mb-6",children:[e.jsxs("div",{className:"border p-3 rounded shadow-sm bg-blue-50",children:[e.jsx("h3",{className:"text-xs font-medium text-gray-500",children:"Total Patients"}),e.jsx("p",{className:"text-lg font-semibold",children:m.length})]}),e.jsxs("div",{className:"border p-3 rounded shadow-sm bg-green-50",children:[e.jsx("h3",{className:"text-xs font-medium text-gray-500",children:"Total Amount"}),e.jsxs("p",{className:"text-lg font-semibold",children:["PKR ",d(a.totalAmount)]})]}),e.jsxs("div",{className:"border p-3 rounded shadow-sm bg-yellow-50",children:[e.jsx("h3",{className:"text-xs font-medium text-gray-500",children:"Total Paid"}),e.jsxs("p",{className:"text-lg font-semibold",children:["PKR ",d(a.totalPaid)]})]}),e.jsxs("div",{className:"border p-3 rounded shadow-sm bg-red-50",children:[e.jsx("h3",{className:"text-xs font-medium text-gray-500",children:"Total Balance"}),e.jsxs("p",{className:"text-lg font-semibold",children:["PKR ",d(a.totalBalance)]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"font-medium border-b pb-2 mb-3 text-center",children:"Summary by Referred Doctors"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 text-left",children:[e.jsx("th",{className:"p-2 border border-gray-300 font-medium",children:"Doctor Name"}),e.jsx("th",{className:"p-2 border border-gray-300 font-medium text-center",children:"Patients"}),e.jsx("th",{className:"p-2 border border-gray-300 font-medium text-right",children:"Total Amount"}),e.jsx("th",{className:"p-2 border border-gray-300 font-medium text-right",children:"Total Paid"}),e.jsx("th",{className:"p-2 border border-gray-300 font-medium text-right",children:"Balance"})]})}),e.jsxs("tbody",{children:[c.map((r,l)=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"p-2 border border-gray-200",children:r.name}),e.jsx("td",{className:"p-2 border border-gray-200 text-center",children:r.count}),e.jsxs("td",{className:"p-2 border border-gray-200 text-right",children:["PKR ",d(r.totalAmount)]}),e.jsxs("td",{className:"p-2 border border-gray-200 text-right",children:["PKR ",d(r.totalPaid)]}),e.jsxs("td",{className:"p-2 border border-gray-200 text-right",children:["PKR ",d(r.totalAmount-r.totalPaid)]})]},l)),e.jsxs("tr",{className:"bg-gray-100 font-medium",children:[e.jsx("td",{className:"p-2 border border-gray-300",children:"TOTAL"}),e.jsx("td",{className:"p-2 border border-gray-300 text-center",children:m.length}),e.jsxs("td",{className:"p-2 border border-gray-300 text-right",children:["PKR ",d(a.totalAmount)]}),e.jsxs("td",{className:"p-2 border border-gray-300 text-right",children:["PKR ",d(a.totalPaid)]}),e.jsxs("td",{className:"p-2 border border-gray-300 text-right",children:["PKR ",d(a.totalBalance)]})]})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"border p-3 rounded shadow-sm",children:[e.jsx("h3",{className:"text-xs font-medium text-gray-500",children:"Average Amount per Patient"}),e.jsxs("p",{className:"text-sm font-semibold",children:["PKR ",d(m.length>0?a.totalAmount/m.length:0)]})]}),e.jsxs("div",{className:"border p-3 rounded shadow-sm",children:[e.jsx("h3",{className:"text-xs font-medium text-gray-500",children:"Total Discount"}),e.jsxs("p",{className:"text-sm font-semibold",children:["PKR ",d(a.totalDiscount)]})]}),e.jsxs("div",{className:"border p-3 rounded shadow-sm",children:[e.jsx("h3",{className:"text-xs font-medium text-gray-500",children:"Collection Rate"}),e.jsxs("p",{className:"text-sm font-semibold",children:[a.totalAmount>0?Math.round(a.totalPaid/a.totalAmount*100):0,"%"]})]})]}),e.jsx("div",{className:"text-center text-xs text-gray-500 pt-4 border-t absolute bottom-0 left-0 right-0 pb-2",children:e.jsx("p",{children:"Quick Summary Report | Computer Generated | Page 1 of 1"})}),e.jsx("div",{className:"no-print fixed top-4 right-4",children:e.jsxs("button",{onClick:()=>window.print(),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg shadow-sm transition-colors flex items-center gap-2",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5 4v3H4a2 2 0 00-2 2v3a2 2 0 002 2h1v2a2 2 0 002 2h6a2 2 0 002-2v-2h1a2 2 0 002-2V9a2 2 0 00-2-2h-1V4a2 2 0 00-2-2H7a2 2 0 00-2 2zm8 0H7v3h6V4zm0 8H7v4h6v-4z",clipRule:"evenodd"})}),"Print Quick Summary"]})}),e.jsx("script",{dangerouslySetInnerHTML:{__html:`
            window.onload = function() {
              setTimeout(() => {
                window.print();
                // Optional: close window after print
                setTimeout(() => {
                  window.close();
                }, 500);
              }, 500);
            };
          `}})]})]})},W=()=>{const{date:m}=C(),{summaryByDate:x}=_(t=>t.testResult),u=B(),[d,g]=N.useState(null),[a,j]=N.useState({key:"tokenNumber",direction:"asc"});let c=null,r=null;if(m){const t=m.split("_");t.length===2?(c=t[0],r=t[1]):t.length===1&&(c=t[0])}N.useEffect(()=>{u(K({startDate:c,endDate:r}))},[u,c,r]);const l=t=>t?new Date(t).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):"-",s=t=>t?new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"-",n=t=>{let i="asc";a.key===t&&a.direction==="asc"&&(i="desc"),j({key:t,direction:i})},o=[...x||[]].sort((t,i)=>t[a.key]<i[a.key]?a.direction==="asc"?-1:1:t[a.key]>i[a.key]?a.direction==="asc"?1:-1:0),h=t=>{g(d===t?null:t)},b=t=>{switch(t){case"completed":return"bg-emerald-100 text-emerald-800";case"pending":return"bg-amber-100 text-amber-800";case"registered":return"bg-primary-100 text-primary-800";default:return"bg-gray-100 text-gray-800"}},y=(t,i)=>({reports:t||[],dateRange:{startDate:i.startDate,endDate:i.endDate}}),w=()=>{const t=y(x,{startDate:c,endDate:r});if(!t||t.reports.length===0){alert("No data to print");return}const i=window.open("","_blank");if(!i){alert("Please allow popups for printing");return}const p=new Date,D=String(p.getDate()).padStart(2,"0"),A=String(p.getMonth()+1).padStart(2,"0"),R=String(p.getFullYear()).slice(-2),P=String(p.getHours()).padStart(2,"0"),S=String(p.getMinutes()).padStart(2,"0"),T=`${D}-${A}-${R} ${P}:${S}`,k=f.renderToStaticMarkup(e.jsx(L,{reports:t.reports,dateRange:t.dateRange}));i.document.open(),i.document.write(`
    <!DOCTYPE html>
    <html>
      <head>
        <title>Report_Summary_${T}</title>
      </head>
      <body>${k}</body>
      <script>
        window.onload = function() {
          setTimeout(() => {
            window.print();
            window.close();
          }, 500);
        };
      <\/script>
    </html>
  `),i.document.close()},v=()=>{const t=y(x,{startDate:c,endDate:r});if(!t||t.reports.length===0){alert("No data to generate quick report");return}const i=window.open("","_blank");if(!i){alert("Please allow popups for printing");return}const p=f.renderToStaticMarkup(e.jsx(Q,{reports:t.reports,dateRange:t.dateRange}));i.document.open(),i.document.write(`
    <!DOCTYPE html>
    <html>
      <head>
        <title>Quick_Report_Summary</title>
      </head>
      <body>${p}</body>
      <script>
        window.onload = function() {
          setTimeout(() => {
            window.print();
            window.close();
          }, 500);
        };
      <\/script>
    </html>
  `),i.document.close()};return e.jsx("div",{className:"min-h-screen bg-linear-to-br from-gray-50 to-gray-100 p-4 md:p-8",children:e.jsxs("div",{className:" mx-auto",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Test Report Summary"}),e.jsxs("p",{className:"text-gray-500 mt-1",children:[c&&s(c),r&&` - ${s(r)}`]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:v,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg shadow-sm transition-colors flex items-center gap-2",children:[e.jsx($,{className:"h-5 w-5"}),"Quick Report"]}),e.jsxs("button",{onClick:w,className:"bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-lg shadow-sm transition-colors flex items-center gap-2",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5 4v3H4a2 2 0 00-2 2v3a2 2 0 002 2h1v2a2 2 0 002 2h6a2 2 0 002-2v-2h1a2 2 0 002-2V9a2 2 0 00-2-2h-1V4a2 2 0 00-2-2H7a2 2 0 00-2 2zm8 0H7v3h6V4zm0 8H7v4h6v-4z",clipRule:"evenodd"})}),"Print Summary"]})]})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm text-left",children:[e.jsx("thead",{className:"text-xs text-gray-700 bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>n("tokenNumber"),children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(E,{className:"text-gray-400"}),e.jsx("span",{children:"Token"}),a.key==="tokenNumber"&&e.jsx("span",{children:a.direction==="asc"?"↑":"↓"})]})}),e.jsx("th",{className:"px-6 py-4",children:"MR No."}),e.jsx("th",{className:"px-6 py-4 cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>n("patient_Detail.patient_Name"),children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(H,{className:"text-gray-400"}),e.jsx("span",{children:"Patient"}),a.key==="patient_Detail.patient_Name"&&e.jsx("span",{children:a.direction==="asc"?"↑":"↓"})]})}),e.jsx("th",{className:"px-6 py-4",children:"Tests"}),e.jsx("th",{className:"px-6 py-4",children:"Status"}),e.jsx("th",{className:"px-6 py-4 cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>n("createdAt"),children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(O,{className:"text-gray-400"}),e.jsx("span",{children:"Date/Time"}),a.key==="createdAt"&&e.jsx("span",{children:a.direction==="asc"?"↑":"↓"})]})}),e.jsx("th",{className:"px-6 py-4 cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>n("totalAmount"),children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(z,{className:"text-gray-400"}),e.jsx("span",{children:"Amount"}),a.key==="totalAmount"&&e.jsx("span",{children:a.direction==="asc"?"↑":"↓"})]})}),e.jsx("th",{className:"px-6 py-4",children:"Actions"})]})}),e.jsx("tbody",{children:o.map(t=>e.jsxs(M.Fragment,{children:[e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50 transition-colors duration-150",children:[e.jsxs("td",{className:"px-6 py-4 font-medium text-gray-900",children:["#",t.tokenNumber]}),e.jsx("td",{className:"px-6 py-4 text-gray-600",children:t.patient_Detail.patient_MRNo}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-medium text-gray-900",children:t.patient_Detail.patient_Name}),e.jsxs("span",{className:"text-xs text-gray-500",children:[t.patient_Detail.patient_Gender,","," ",t.patient_Detail.patient_Age]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"flex items-center gap-1",children:e.jsxs("span",{className:"bg-primary-100 text-primary-800 text-xs px-2 py-1 rounded-full",children:[t.selectedTests.length," test",t.selectedTests.length!==1?"s":""]})})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${b(t.paymentStatus)}`,children:t.paymentStatus})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{children:s(t.createdAt)}),e.jsxs("span",{className:"text-xs text-gray-500",children:[l(t.createdAt)," -"," ",l(t.updatedAt)]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("span",{className:"font-medium",children:["PKR ",t.totalAmount]}),e.jsxs("span",{className:"text-xs text-gray-500",children:["Paid: PKR ",t.advancePayment]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("button",{className:"p-1 text-primary-600 hover:text-primary-800 transition-colors",onClick:()=>h(t._id),children:d===t._id?e.jsx(F,{}):e.jsx(I,{})})})})]}),d===t._id&&e.jsx("tr",{className:"bg-gray-50",children:e.jsx("td",{colSpan:"8",className:"px-6 py-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-xs border border-gray-200",children:[e.jsx("h3",{className:"font-medium text-gray-800 mb-3",children:"Patient Details"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Contact:"}),e.jsx("span",{children:t.patient_Detail.patient_ContactNo||"-"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"CNIC:"}),e.jsx("span",{children:t.patient_Detail.patient_CNIC||"-"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Referred By:"}),e.jsx("span",{children:t.referredBy||"-"})]})]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-xs border border-gray-200",children:[e.jsx("h3",{className:"font-medium text-gray-800 mb-3",children:"Tests Performed"}),e.jsx("div",{className:"space-y-3",children:t.selectedTests.map((i,p)=>e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:i.testDetails.testName}),e.jsx("p",{className:"text-xs text-gray-500",children:i.testDetails.testCode})]}),e.jsxs("span",{className:"text-sm font-medium",children:["PKR ",i.testDetails.testPrice]})]},p))})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-xs border border-gray-200",children:[e.jsx("h3",{className:"font-medium text-gray-800 mb-3",children:"Payment Summary"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Subtotal:"}),e.jsxs("span",{children:["PKR"," ",t.totalAmount+t.discountAmount]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Discount:"}),e.jsxs("span",{className:"text-red-500",children:["- PKR ",t.discount]})]}),e.jsxs("div",{className:"flex justify-between border-t border-gray-200 pt-2 mt-2",children:[e.jsx("span",{className:"text-gray-500 font-medium",children:"Total:"}),e.jsxs("span",{className:"font-medium",children:["PKR ",t.totalAmount]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Paid:"}),e.jsxs("span",{className:"text-green-600",children:["PKR ",t.advancePayment]})]}),e.jsxs("div",{className:"flex justify-between border-t border-gray-200 pt-2 mt-2",children:[e.jsx("span",{className:"text-gray-500 font-medium",children:"Balance:"}),e.jsxs("span",{className:"font-medium",children:["PKR"," ",t.totalAmount-t.advanceAmount]})]})]})]})]})})})]},t._id))})]})})}),o.length===0&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8 text-center",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-700 mb-2",children:"No reports found"}),e.jsx("p",{className:"text-gray-500",children:"Try adjusting your date range or search criteria"})]})]})})};export{W as default};
