import{f as k,u as C,r as n,m as p,j as e,bb as D,bc as S}from"./index-D_CM1r6M.js";const L=()=>{const a=k(),h=C(s=>s.department.departments)||[],[r,o]=n.useState({name:"",description:"",location:"",status:"active",servicesOffered:""}),[d,f]=n.useState(!1),[y,b]=n.useState(null),[l,j]=n.useState(""),[c,m]=n.useState(!1);n.useEffect(()=>{a(p())},[a]);const g=Array.isArray(h)?h.filter(s=>s.name?.toLowerCase().includes(l.toLowerCase())||s.location?.toLowerCase().includes(l.toLowerCase())):[],i=s=>{const{name:t,value:x}=s.target;o(w=>({...w,[t]:x}))},v=s=>{s.preventDefault();const t={...r,servicesOffered:r.servicesOffered.split(",").map(x=>x.trim())};d?a(D({id:y,updatedData:t})).then(()=>{a(p()),u()}):a(S(t)).then(()=>{a(p()),u()})},N=s=>{o({name:s.name||"",description:s.description||"",location:s.location||"",status:s.status||"active",servicesOffered:s.servicesOffered?.join(", ")||""}),f(!0),b(s._id),m(!0)},u=()=>{o({name:"",description:"",location:"",status:"active",servicesOffered:""}),f(!1),b(null),m(!1)};return e.jsxs("div",{children:[e.jsx("div",{className:"bg-primary-600 rounded-md text-white px-6 py-8 text-center shadow-md",children:e.jsx("div",{className:"max-w-9xl mx-auto",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-12 w-1 bg-primary-300 mr-4 rounded-full"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Hospital Departments"}),e.jsx("p",{className:"text-primary-100 mt-1",children:"Manage all hospital departments and their details"})]})]})})}),e.jsxs("div",{className:"max-w-9xl mx-auto px-6 py-8",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{className:"relative grow",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),e.jsx("input",{type:"text",placeholder:"Search departments...",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",value:l,onChange:s=>j(s.target.value)})]}),e.jsxs("button",{onClick:()=>m(!c),className:"flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[e.jsx("svg",{className:"-ml-1 mr-2 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),c?"Cancel":"Add Department"]})]})}),c&&e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:d?"Edit Department":"Add New Department"}),e.jsxs("form",{onSubmit:v,children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Department Name*"}),e.jsx("input",{type:"text",id:"name",name:"name",value:r.name,onChange:i,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 mb-1",children:"Location*"}),e.jsx("input",{type:"text",id:"location",name:"location",value:r.location,onChange:i,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1",children:"Status*"}),e.jsxs("select",{id:"status",name:"status",value:r.status,onChange:i,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500",required:!0,children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),e.jsx("textarea",{id:"description",name:"description",rows:3,value:r.description,onChange:i,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{htmlFor:"servicesOffered",className:"block text-sm font-medium text-gray-700 mb-1",children:"Services Offered*"}),e.jsx("input",{type:"text",id:"servicesOffered",name:"servicesOffered",value:r.servicesOffered,onChange:i,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500",required:!0})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[e.jsx("button",{type:"button",onClick:u,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700",children:d?"Update Department":"Save Department"})]})]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50 text-center",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3",children:"Department"}),e.jsx("th",{className:"px-6 py-3",children:"Location"}),e.jsx("th",{className:"px-6 py-3",children:"Status"}),e.jsx("th",{className:"px-6 py-3",children:"Services"}),e.jsx("th",{className:"px-6 py-3 ",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200 text-center",children:g.map(s=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4",children:s.name}),e.jsx("td",{className:"px-6 py-4",children:s.location}),e.jsx("td",{className:"px-6 py-4",children:s.status}),e.jsx("td",{className:"px-6 py-4",children:s.servicesOffered?.map(t=>e.jsx("span",{className:"bg-primary-100 text-primary-800 text-xs mx-0.5 px-2 py-1 rounded",children:t},t))}),e.jsx("td",{className:"px-6 py-4 ",children:e.jsx("button",{onClick:()=>N(s),className:"text-edit-600 border p-1 rounded-b-2xl hover:underline mr-3",children:"Edit"})})]},s._id))})]})})]})]})};export{L as default};
