import{f as x,d as p,u as a,n as h,r as y,o as n,j as e,p as u,y as i}from"./index-D_CM1r6M.js";import{F as j,a as N,b as l,c as g}from"./index-C4dsM683.js";import"./iconBase-DSUUJbys.js";const A=()=>{const t=x(),c=p(),r=a(h),d=a(s=>s.appointments.status),o=a(s=>s.appointments.error);y.useEffect(()=>{t(n())},[t]);const m=async s=>{if(window.confirm("Are you sure you want to restore this appointment?"))try{await t(u(s)),i.success("Appointment restored successfully!")}catch{i.error("Error restoring appointment!")}};return d==="failed"?e.jsxs("div",{className:"p-4 bg-red-100 text-red-700 rounded-lg max-w-md mx-auto mt-8",children:["Error: ",o||"Could not fetch appointments."]}):e.jsx("div",{className:"p-6 bg-gray-50 min-h-screen",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("button",{onClick:()=>c(-1),className:"flex items-center text-primary-600 hover:text-primary-800 mb-4 transition-colors hover:underline",children:[e.jsx(j,{className:"mr-2"}),"Back to Appointments"]}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[e.jsxs("div",{className:"flex items-center mb-4 md:mb-0",children:[e.jsx("div",{className:"bg-red-100 p-3 rounded-lg mr-4",children:e.jsx(N,{className:"text-red-600 text-xl"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Deleted Appointments"}),e.jsxs("p",{className:"text-sm text-gray-500",children:[r.length," ",r.length===1?"record":"records"," in trash"]})]})]}),e.jsxs("button",{onClick:()=>t(n()),className:`flex items-center px-4 py-2 bg-white border border-gray-300 rounded-lg shadow-sm \r
                text-gray-700 hover:bg-gray-50 transition-colors`,children:[e.jsx(l,{className:"mr-2"}),"Refresh"]})]})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsx("tr",{children:["MR NO","Patient","Date","Doctor","Type","Status","Actions"].map(s=>e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:s},s))})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.length>0?r.map(s=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:s.appointmentMRNO||"N/A"}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:s.patientName}),e.jsx("div",{className:"text-sm text-gray-500",children:s.appointmentTime})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(s.appointmentDate).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.appointmentDoctorName}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 py-1 text-xs bg-primary-100 text-primary-800 rounded-full",children:s.appointmentType})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2.5 py-1 text-xs rounded-full font-medium ${s.appointmentStatus==="confirm"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:s.appointmentStatus})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsx("div",{className:"flex space-x-3",children:e.jsxs("button",{onClick:()=>m(s._id),className:"text-green-600 hover:text-green-800 flex items-center",title:"Restore",children:[e.jsx(l,{className:"mr-1"}),"Restore"]})})})]},s._id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"px-6 py-12 text-center",children:e.jsxs("div",{className:"flex flex-col items-center justify-center text-gray-400",children:[e.jsx(g,{className:"h-12 w-12 mb-4"}),e.jsx("p",{className:"text-lg font-medium",children:"No deleted appointments found"}),e.jsx("p",{className:"text-sm mt-1",children:"Deleted appointments will appear here"})]})})})})]})})})]})})};export{A as default};
