import{T as j,d as N,f as u,u as b,r as f,a9 as v,j as e}from"./index-D_CM1r6M.js";import{n as g,o as y,m as A,S as w,U as _,ab as c,g as m,q as x,A as p,ac as C}from"./index-jLjFIv2f.js";import{g as I}from"./getRoleRoute-Do-Qfut4.js";import"./iconBase-DSUUJbys.js";const S=()=>{const{patientId:i}=j(),n=N(),r=u(),{selectedPatient:t,selectedPatientStatus:o,error:h}=b(l=>l.patients);f.useEffect(()=>{i&&r(v(i))},[i,r]);const d=l=>{if(!l)return"N/A";try{return new Date(l).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch{return l}};if(o==="loading")return e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})});if(o==="failed")return e.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-500",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-red-700",children:h})})]})});if(!t)return e.jsx("div",{className:"text-center py-8 text-primary-500",children:"No patient data found"});const a={name:t.patient_Name||"N/A",mrNo:t.patient_MRNo||"N/A",bloodType:t.patient_BloodType||"N/A",age:t.patient_Age||"N/A",dob:t.patient_DateOfBirth||null,contact:t.patient_ContactNo||"N/A",address:t.patient_Address||"N/A",cnic:t.patient_CNIC||"N/A",maritalStatus:t.patient_MaritalStatus||"N/A",allergies:t.patient_Allergies||"None reported",conditions:t.patient_ChronicConditions||"None reported",medications:t.patient_Medications||[],guardian:t.patient_Guardian||{},hospitalInfo:t.patient_HospitalInformation||{},createdAt:t.createdAt||null};return e.jsxs("div",{className:"container mx-auto p-4",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-500 mb-4",children:[e.jsx("button",{onClick:()=>n(I("patient-records")),className:"text-primary-600 hover:text-primary-800",children:"Patient Records"}),e.jsx("span",{className:"mx-2",children:"/"}),e.jsx("span",{children:"Details"})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden mb-6",children:e.jsx("div",{className:"bg-linear-to-r from-primary-500 to-primary-700 p-6 text-white",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center",children:[e.jsx("div",{className:"mr-6 mb-4 md:mb-0",children:e.jsx("img",{src:`https://api.dicebear.com/6.x/avataaars/svg?seed=${encodeURIComponent(a.mrNo)}`,alt:a.name,className:"w-24 h-24 rounded-full object-cover border-4 border-white shadow"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:a.name}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-2",children:[e.jsxs("span",{className:"bg-white text-primary-600 text-xs px-3 py-1 rounded-full font-semibold",children:["MR: ",a.mrNo]}),a.bloodType!=="N/A"&&e.jsxs("span",{className:"bg-white text-primary-600 text-xs px-3 py-1 rounded-full font-semibold",children:["Blood: ",a.bloodType]}),e.jsxs("span",{className:"bg-white text-primary-600 text-xs px-3 py-1 rounded-full font-semibold",children:["Age: ",a.age]})]})]})]})})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[e.jsx(g,{className:"mr-2 text-primary-600"}),"Personal Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(s,{icon:e.jsx(y,{}),label:"MR Number",value:a.mrNo}),e.jsx(s,{icon:e.jsx(A,{}),label:"Date of Birth",value:d(a.dob)}),e.jsx(s,{icon:e.jsx(w,{}),label:"Contact",value:a.contact}),e.jsx(s,{icon:e.jsx(_,{}),label:"Address",value:a.address}),e.jsx(s,{icon:e.jsx(c,{}),label:"CNIC",value:a.cnic}),e.jsx(s,{icon:e.jsx(m,{}),label:"Marital Status",value:a.maritalStatus})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[e.jsx(x,{className:"mr-2 text-primary-600"}),"Medical Information"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(s,{icon:e.jsx(m,{}),label:"Blood Type",value:a.bloodType}),e.jsx(s,{icon:e.jsx(p,{}),label:"Allergies",value:a.allergies}),e.jsx(s,{icon:e.jsx(c,{}),label:"Chronic Conditions",value:a.conditions}),e.jsx(s,{icon:e.jsx(x,{}),label:"Current Medications",value:a.medications.length>0?a.medications.map(l=>`${l.name} (${l.dosage})`).join(", "):"None"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[e.jsx(C,{className:"mr-2 text-primary-600"}),"Guardian Information"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(s,{label:"Name",value:a.guardian.guardian_Name||"N/A"}),e.jsx(s,{label:"Relation",value:a.guardian.guardian_Relation||"N/A"}),e.jsx(s,{label:"Contact",value:a.guardian.guardian_Contact||"N/A"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[e.jsx(p,{className:"mr-2 text-primary-600"}),"Hospital Information"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(s,{label:"Doctor",value:a.hospitalInfo.doctor_Name||"N/A"}),e.jsx(s,{label:"Department",value:a.hospitalInfo.doctor_Department||"N/A"}),e.jsx(s,{label:"Specialization",value:a.hospitalInfo.doctor_Specialization||"N/A"}),e.jsx(s,{label:"Consultation Fee",value:`Rs. ${a.hospitalInfo.doctor_Fee||"0"}`}),e.jsx(s,{label:"Referred By",value:a.hospitalInfo.referredBy||"N/A"}),e.jsx(s,{label:"Registration Date",value:d(a.createdAt)})]})]})]})]})]})},s=({icon:i,label:n,value:r})=>e.jsxs("div",{className:"flex items-start",children:[i&&e.jsx("span",{className:"mr-3 text-primary-500 mt-1",children:i}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:n}),e.jsx("p",{className:"text-base font-normal text-gray-800",children:r||"N/A"})]})]});export{S as default};
