import{T as h,d as b,c as g,f as j,u as c,aS as N,aM as p,r as m,aT as y,j as e}from"./index-D_CM1r6M.js";import{q as f,F as u,e as v,m as A}from"./index-C4dsM683.js";import"./iconBase-DSUUJbys.js";const _=()=>{const{id:r}=h(),d=b(),x=g(),n=j(),s=c(N),o=c(p),[w,k]=m.useState(!1),t=x.state?.patientData||s?.patient;m.useEffect(()=>{r&&n(y(r))},[r,n]);const a=l=>`Rs. ${l?.toLocaleString()||"0"}`,i=l=>{if(!l)return"N/A";try{return new Date(l).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Invalid Date"}};return o?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading refund details..."})]})}):s?e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8",children:e.jsxs("div",{className:"flex items-center mb-4 sm:mb-0",children:[e.jsxs("button",{onClick:()=>d(-1),className:"flex items-center text-primary-600 hover:text-primary-800 mr-6 transition-colors",children:[e.jsx(u,{className:"mr-2 h-5 w-5"}),"Back to List"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Refund Details"}),e.jsxs("p",{className:"text-gray-600 text-sm",children:["Refund ID: #",s._id?.slice(-8).toUpperCase()]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Refund Information"}),e.jsx("span",{className:"inline-flex px-3 py-1 text-sm font-semibold rounded-full bg-green-100 text-green-800",children:"Approved"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block font-semibold text-gray-600 mb-1 ",children:"Refund Amount"}),e.jsx("p",{className:"text-lg font-semibold text-green-600",children:a(s.refundAmount)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-semibold text-gray-600 mb-1 ",children:"Original Amount"}),e.jsx("p",{className:"text-md text-gray-900",children:a(s.originalAmount)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-semibold text-gray-600 mb-1 ",children:"Refund Method"}),e.jsx("p",{className:"text-md text-gray-900 capitalize",children:s.refundMethod||"N/A"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block font-semibold text-gray-600 mb-1 ",children:"Original Payment Method"}),e.jsx("p",{className:"text-md text-gray-900 capitalize",children:s.originalPaymentMethod||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-semibold text-gray-600 mb-1 ",children:"Refund Date"}),e.jsx("p",{className:"text-md text-gray-900",children:i(s.refundDate)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-semibold text-gray-600 mb-1 ",children:"Processed By"}),e.jsx("p",{className:"text-md text-gray-900",children:s.processedBy?.user_Name||"Unknown"})]})]})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200 space-y-4",children:[s.refundReason&&e.jsxs("div",{children:[e.jsx("label",{className:"block font-semibold text-gray-600 mb-1 ",children:"Reason"}),e.jsx("p",{className:"text-md text-gray-900",children:s.refundReason})]}),s.refundDescription&&e.jsxs("div",{children:[e.jsx("label",{className:"block font-semibold text-gray-600 mb-1 ",children:"Description"}),e.jsx("p",{className:"text-md text-gray-900",children:s.refundDescription})]}),s.notes&&e.jsxs("div",{children:[e.jsx("label",{className:"block font-semibold text-gray-600 mb-1 ",children:"Notes"}),e.jsx("p",{className:"text-md text-gray-900 bg-gray-50 p-3 rounded-lg",children:s.notes})]})]})]}),t&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx(v,{className:"h-6 w-6 text-primary-600 mr-3"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Patient Information"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block font-semibold text-gray-600 mb-1 ",children:"Patient Name"}),e.jsx("p",{className:"text-md font-medium text-gray-900",children:t.patient_Name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-semibold text-gray-600 mb-1 ",children:"MR Number"}),e.jsx("p",{className:"text-md text-gray-900 font-mono",children:t.patient_MRNo})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-semibold text-gray-600 mb-1 ",children:"Contact Number"}),e.jsx("p",{className:"text-md text-gray-900",children:t.patient_ContactNo||"N/A"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block font-semibold text-gray-600 mb-1 ",children:"CNIC"}),e.jsx("p",{className:"text-md text-gray-900",children:t.patient_CNIC||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-semibold text-gray-600 mb-1 ",children:"Age / Gender"}),e.jsxs("p",{className:"text-md text-gray-900",children:[t.patient_Age||"N/A"," / ",t.patient_Gender?t.patient_Gender.charAt(0).toUpperCase()+t.patient_Gender.slice(1):"N/A"]})]}),t.patient_Address&&e.jsxs("div",{children:[e.jsx("label",{className:"block font-semibold text-gray-600 mb-1 ",children:"Address"}),e.jsx("p",{className:"text-md text-gray-900",children:t.patient_Address})]})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(A,{className:"h-5 w-5 text-primary-600 mr-2"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Timeline"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block font-semibold text-gray-600 mb-1 ",children:"Created Date"}),e.jsx("p",{className:"text-sm text-gray-900",children:i(s.createdAt)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-semibold text-gray-600 mb-1 ",children:"Last Updated"}),e.jsx("p",{className:"text-sm text-gray-900",children:i(s.updatedAt)})]}),s.authorizedBy&&e.jsxs("div",{children:[e.jsx("label",{className:"block font-semibold text-gray-600 mb-1 ",children:"Authorized By"}),e.jsx("p",{className:"text-sm text-gray-900",children:s.authorizedBy})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Transaction Summary"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Original Amount:"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:a(s.originalAmount)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Refunded:"}),e.jsx("span",{className:"text-sm font-medium text-green-600",children:a(s.refundAmount)})]}),e.jsxs("div",{className:"flex justify-between items-center pt-3 border-t border-gray-200",children:[e.jsx("span",{className:"text-md font-medium text-gray-800",children:"Remaining:"}),e.jsx("span",{className:"text-md font-bold text-gray-900",children:a(s.originalAmount-s.refundAmount)})]})]})]})]})]})]})}):e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx(f,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Refund Not Found"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"The requested refund could not be found."}),e.jsx("button",{onClick:()=>d(-1),className:"bg-primary-600 text-white px-6 py-2 rounded-lg hover:bg-primary-700",children:"Go Back"})]})})};export{_ as default};
